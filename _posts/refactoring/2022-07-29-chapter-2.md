bㅠbb---
published: false
title: "[리팩토링] Chapter 2. 리팩터링 원칙"
excerpt: " "
layout: single
author_profile: true
read_time: false
toc: false
toc_label: "My Table of Contents"
toc_icon: "cog"
toc_sticky: true
categories:
  - refactoring

comments: true
header:
  # overlay_image: https://cf.festa.io/img/2019-9-27/a6c0b457-c336-42ba-b06e-462de90ada91.jpg
  # overlay_filter: 0.5
  # teaser: https://cf.festa.io/img/2019-9-27/a6c0b457-c336-42ba-b06e-462de90ada91.jpg
sitemap:
  changefreq: daily
  priority: 1.0
---

## 사전적 의미

> 리팩터링 : [명사] 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이래하고 수정하기 쉽도록 내부 구조를 변경하는 기법

> 리팩터링 : [동사] 소프트웨어의 겉보기 동작은 그대로 유지한 채, 여러자기 리팩터링 기법을 적용해서 소프트웨어를 재구성한다.

## 리팩터링 정의

- 커드를 정리하는 작업을 모조리 리팩터링 이라고 표현하는데 `특정한 방식` 에 따라 코드를 정리하는 것만이 리팩터링이다.

 > "누군가가 리팩터링하다가 코드가 깨져서 며칠이나 고생했다." 라고 한다면, 십중팔구 리팩터링한 것이 아니다.

 - 리팩터링 과정에서 발견된 버그는 리팩터링 후에도 그대로 남아 있어야 한다.

 - 리팩터링은 성능 최적화와 비슷하며 리팩터링의 목적은 코드를 이해하고 수정하기 쉽게 만드는 것이다.

## 두 개의 모자

기능을 추가할 때는 `기능 추가` 모자를 쓴 다음 기존 코드를  절대 건드리지 않고 새 기능을 추가하기만 한다. `리팩터링` 모자를 쓴 다음 기능 추가는 절대로 하지 않고 오로지 코드 재구성에만 전념한다.

## 리팩터링하는 이유

### 리팩터링하면 소프트웨어 설계가 좋아진다.

리팩터링하지 않으면 소프트웨어의 내부 설계가 썩기 쉽다. 시간이 지나면 코드 구조가 무너지기 시작하면 악효과가 누적된다.
같은 일을 하더라고 설계가 나쁘면 코드가 길어지기 십상이다. 그래서 중복 코드 제거는 설계 개선 작업의 중요한 축을 차지한다.

### 리팩터링을 하면 소프트웨어를 이해하기 쉬워진다

프로그래밍은 여러 면에서 마치 컴퓨터와 대화하는 것과 같다. 그래서 컴퓨토에게 시키려는 일과 이를 표현한 코드의 차이를 최대한 줄여야한다. </br>
</br>
리팩터링은 코드를 잘 읽히게 도와준다. 그리고 코드의 목적이 더 잘 드러나게 내의도를 더 명확하게 전달하도록 개선할 수 있다.

### 리팩터링하면 버그를 쉽게 찾을 수 있다.

코드를 이해하기 쉽다는 말은 버그를 찾기 쉽다는 말이다.

### 리팩터링을 하면 프로그래밍 속도를 높일수 있다

![figure-1](/assets/images/refactoring/figure-1.png)

내부 설계가 잘 된 소프트웨어는 새로운 기능을 추가할 지점과 어떻게 고칠지를 쉽게 찾을 수 있다. `모듈화` 가 잘 되어 있으면 전체 코드베이스 중 작은 일부만 이해하면 된다. 코드가 명확하면 버그를 만들 가능성도 줄고 디버깅하기가 훨씬 쉽다. 설령 프로그램의 요구사항이 바뀌더라도 설계를 지속해서 개선할 수 있다.

### 언제 리팩터링해야 할까?

> __3의 법칙__ </br>1. 처음에는 그냥한다. </br>2. 비슷한 일을 두 번째로 하게되면 일단 계속 진행한다. </br>3. 비슷한 일을 세 번째하게 되면 리팩터링한다.



## Reference

[리팩터링 2판](http://www.yes24.com/Product/Goods/89649360)
